<header class="row">
    <div class="col">
        <h1>{{title}}</h1>
    </div>
</header>

<div class="row">
    <main class="col">
        {{#if errors}}
            <!-- TODO create a module of the error -->
            {{# each errors }}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    {{ this.msg }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {{/each}}
        {{/if}}

        <div class="jumbotron">
            <h1 class="display-4">Welcome to inbox!</h1>
            <p class="lead">This is a consumer for Linked Data Notification platform. Start by entering a target URL to
                discover an inbox (receiver).</p>
            <hr class="my-4">

            <form action="/discover" method="post" id="discoverForm">
                <div class="form-group">
                    <label for="targetUrl">Target URL</label>
                    <input type="url" class="form-control" name="targetUrl" required="required" id="targetUrl"
                           placeholder="Enter target URL">
                </div>
                <button type="submit" class="btn btn-primary btn-lg">Discover</button>
            </form>
        </div>

        <h2>Last used:</h2>
        <div class="list-group">
            {{# each usedInboxUrls }}
                <a href="#" class="list-group-item list-group-item-action" onclick="discover('{{this}}')">{{this}}</a>
            {{/each}}
        </div>
    </main>
</div>

<script>
    function discover(url) {
        document.getElementById('targetUrl').value = url;
        document.getElementById("discoverForm").submit();
    }
</script>